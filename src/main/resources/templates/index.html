<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Стем</title>
    <link href="css/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
    <script src="js/libs/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"></script>
    <script type="module" src="js/content.js"></script>
</head>
<body>
<header>
    <img src="img/noroot.png">
</header>
<aside id="side">
    <a @click.prevent="profile" class="abcd">Профиль</a>
    <a @click.prevent="basket" class="abcd">Корзина</a>
    <a @click.prevent="timetable" class="abcd">Расписание</a>
    <a @click.prevent="shop" class="abcd">Магазин</a>
    <a @click.prevent="admin" class="abcd">Админка</a>
</aside>

<div id="content">
    <template v-if="isAuth === false">
        <form id="loginForm" @submit.prevent>
            <simple-card key="loginCard">
                <card-input key="login" name="login" label="Логин"></card-input>
                <card-input key="password" name="password" label="Пароль" type="password"></card-input>
                <card-button @click.native="auth" label="Войти"></card-button>
            </simple-card>
        </form>
    </template>
    <template v-else>
        <template v-if="site==='profile'">
            <simple-card key="profile">
                <card-image key="icon" :src="img" style="margin: 10px auto  "></card-image>
                <card-label key="name" :label="'Имя: ' + name"></card-label>
                <card-label key="surname" :label="'Фамилия: ' + surname"></card-label>
            </simple-card>
        </template>
        <template v-if="site==='shop'">
            <template v-for="card in data">
                <simple-card :key="card.id + 'shop'">
                    <card-label key="title" :label="card.title"></card-label>
                    <card-image key="img" :src="card.img"></card-image>
                    <card-label key="about" :label="card.about"></card-label>
                    <card-label key="quantity" :label="'Количество: ' + card.quantity"></card-label>
                    <card-button key="buy" @click.prevent.native="buy(card.id, card.cost)" :label="card.cost + '$'" style="position: absolute; bottom: 10px; left: 0px; right: 0px;"></card-button>
                </simple-card>
            </template>
        </template>
        <template v-if="site==='basket'">
            <template v-for="card in data">
                <simple-card :key="card.id + card.status">
                    <card-label key="title" :label="card.title"></card-label>
                    <card-image key="img" :src="card.img"></card-image>
                    <card-label key="about" :label="card.about"></card-label>
                    <card-label key="quantity" :label="'Количество: ' + card.quantity"></card-label>
                    <card-label key="status" :label="'Статус: ' + card.status"></card-label>
                    <card-button v-if="card.status === 'not'" key="confirm" :label="'Подтвердить'" @click.prevent.native="confirm(card.id)"></card-button>
                    <card-button v-if="card.status === 'not'" style="top: 30px" key="cancel" :label="'Отменить'" @click.prevent.native="decline(card.id)"></card-button>

                </simple-card>
            </template>
        </template>
        <template v-if="site==='timetable'">

        </template>
        <template v-if="site==='admin'">

        </template>
        <template v-if="site==='adminprofile'">
            <simple-card>
                <card-image  key="img" src="img/noroot.png"></card-image>
                <card-input  key="name" name="name" label="Имя" type="text" value=""></card-input>
                <card-input  key="surname" name="surname" label="Фамилия" type="text" value=""></card-input>
                <card-input  key="login" name="login" label="Логин" type="text" value=""></card-input>
                <card-input  key="password" name="password" label="Пароль" type="text" value=""></card-input>
                <card-input  key="imgSrc" name="img" label="Аватар" type="text" value=""></card-input>
                <card-button key="button" label="Изменить" type="submit"></card-button>
            </simple-card>
        </template>
    </template>

</div>

<footer>
    Крутой ЦОИ Стем <br>
    Звони: x-xxx-xxx-xx-xx
</footer>


<script src="js/image-resize.js"></script>

</body>
</html>